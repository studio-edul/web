# 이미지 최적화 가이드

## 현재 상황

### 문제점
1. **데이터는 빌드 시 가져옴** (getStaticProps 사용) ✅
2. **하지만 이미지는 여전히 Notion 서버에서 직접 로드** ❌
   - 브라우저가 각 이미지를 Notion 서버에서 다운로드해야 함
   - 외부 서버 응답 시간이 느릴 수 있음
   - Next.js Image 최적화가 제한적

### 현재 이미지 로딩 흐름
```
빌드 시: Notion API → 이미지 URL 추출 → HTML 생성
런타임: 브라우저 → Notion 이미지 서버 → 이미지 다운로드
```

## 해결 방법

### 방법 1: 빌드 시 이미지 다운로드 (권장) ⭐

빌드 시 이미지를 다운로드하여 `public/images` 폴더에 저장하고, URL을 로컬 경로로 변경합니다.

**장점:**
- 이미지가 로컬에 있어서 매우 빠름
- Next.js Image 최적화 완전 활용 가능
- CDN 없이도 빠른 로딩

**단점:**
- 빌드 시간이 길어짐
- 저장 공간 필요
- 이미지 업데이트 시 재빌드 필요

**구현:**
- `scripts/download-images.js` 스크립트 실행
- `package.json`에 `prebuild` 스크립트 추가

### 방법 2: Next.js Image Optimization API 활용

현재 Next.js Image 컴포넌트를 사용 중이지만, 외부 이미지라서 최적화가 제한적입니다.

**개선 사항:**
- 이미지 프리로딩 추가
- 이미지 우선순위 설정
- placeholder 사용

### 방법 3: CDN 사용

이미지를 CDN에 업로드하고 사용합니다.

**장점:**
- 빠른 전송 속도
- 자동 최적화
- 캐싱

**단점:**
- 추가 비용
- 설정 복잡

### 방법 4: 하이브리드 접근

- 자주 사용되는 이미지는 로컬에 저장
- 드물게 사용되는 이미지는 외부 URL 사용

## 추천 방법

**빌드 시 이미지 다운로드**를 추천합니다:
1. 성능이 가장 좋음
2. Next.js의 모든 최적화 기능 활용 가능
3. 사용자 경험이 가장 좋음

